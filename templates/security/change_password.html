{% extends "base.html" %}
{% block title %}Change Password - SalesVision{% endblock %}

{% block content %}
<section class="card" style="max-width: 560px; margin: 2rem auto;">
  <h2>Change Password</h2>



  {# Flask-Security provides "change_password_form" in the context #}
  <form method="POST" class="settings-form" action="{{ url_for('security.change_password') }}">
    {{ change_password_form.hidden_tag() }}

    <div class="form-group">
      <label for="current_password">Current password</label>
      {{ change_password_form.password(class="input", id="current_password", placeholder="Current password") }}
      {% for e in change_password_form.password.errors %}
        <small class="error">{{ e }}</small>
      {% endfor %}
    </div>

    <div class="form-group">
      <label for="new_password">New password</label>
      {{ change_password_form.new_password(class="input", id="new_password", placeholder="New password") }}
      {% for e in change_password_form.new_password.errors %}
        <small class="error">{{ e }}</small>
      {% endfor %}
    </div>

    <div class="form-group">
      <label for="new_password_confirm">Confirm new password</label>
      {{ change_password_form.new_password_confirm(class="input", id="new_password_confirm", placeholder="Repeat new password") }}
      {% for e in change_password_form.new_password_confirm.errors %}
        <small class="error">{{ e }}</small>
      {% endfor %}
    </div>

    <button class="btn" type="submit">Update password</button>
    <a class="btn ghost" href="{{ url_for('settings') }}" style="margin-left:.5rem;">Back</a>
  </form>

  <hr style="margin:1.5rem 0;">
  <p style="color:#666;font-size:.9rem;">
    Tip: Use at least 8 characters, with letters and numbers.
  </p>
</section>
{% endblock %}
